{"ast":null,"code":"// src/context/OrderContext.jsx\nconst createOrder = async () => {\n  if (!selectedTable || orderItems.length === 0) return;\n  const orderData = {\n    table: {\n      id: selectedTable.id\n    },\n    // Chỉ gửi ID\n    items: orderItems.map(item => ({\n      productId: item.id,\n      productName: item.name,\n      quantity: item.qty,\n      price: item.price\n    })),\n    totalPrice: orderItems.reduce((sum, i) => sum + i.price * i.qty, 0)\n  };\n  try {\n    await orderAPI.create(orderData);\n    alert('Đặt món thành công!');\n    setOrderItems([]);\n    setSelectedTable(null);\n    navigate('/order-success');\n  } catch (err) {\n    var _err$response, _err$response$data;\n    alert('Lỗi đặt món: ' + (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message));\n  }\n};","map":{"version":3,"names":["createOrder","selectedTable","orderItems","length","orderData","table","id","items","map","item","productId","productName","name","quantity","qty","price","totalPrice","reduce","sum","i","orderAPI","create","alert","setOrderItems","setSelectedTable","navigate","err","_err$response","_err$response$data","response","data","message"],"sources":["D:/Baitap/Web2/Endgame_Project/frontend/src/context/OrderContext.jsx"],"sourcesContent":["// src/context/OrderContext.jsx\r\nconst createOrder = async () => {\r\n  if (!selectedTable || orderItems.length === 0) return;\r\n\r\n  const orderData = {\r\n    table: { id: selectedTable.id }, // Chỉ gửi ID\r\n    items: orderItems.map(item => ({\r\n      productId: item.id,\r\n      productName: item.name,\r\n      quantity: item.qty,\r\n      price: item.price\r\n    })),\r\n    totalPrice: orderItems.reduce((sum, i) => sum + i.price * i.qty, 0)\r\n  };\r\n\r\n  try {\r\n    await orderAPI.create(orderData);\r\n    alert('Đặt món thành công!');\r\n    setOrderItems([]);\r\n    setSelectedTable(null);\r\n    navigate('/order-success');\r\n  } catch (err) {\r\n    alert('Lỗi đặt món: ' + (err.response?.data?.message || err.message));\r\n  }\r\n};"],"mappings":"AAAA;AACA,MAAMA,WAAW,GAAG,MAAAA,CAAA,KAAY;EAC9B,IAAI,CAACC,aAAa,IAAIC,UAAU,CAACC,MAAM,KAAK,CAAC,EAAE;EAE/C,MAAMC,SAAS,GAAG;IAChBC,KAAK,EAAE;MAAEC,EAAE,EAAEL,aAAa,CAACK;IAAG,CAAC;IAAE;IACjCC,KAAK,EAAEL,UAAU,CAACM,GAAG,CAACC,IAAI,KAAK;MAC7BC,SAAS,EAAED,IAAI,CAACH,EAAE;MAClBK,WAAW,EAAEF,IAAI,CAACG,IAAI;MACtBC,QAAQ,EAAEJ,IAAI,CAACK,GAAG;MAClBC,KAAK,EAAEN,IAAI,CAACM;IACd,CAAC,CAAC,CAAC;IACHC,UAAU,EAAEd,UAAU,CAACe,MAAM,CAAC,CAACC,GAAG,EAAEC,CAAC,KAAKD,GAAG,GAAGC,CAAC,CAACJ,KAAK,GAAGI,CAAC,CAACL,GAAG,EAAE,CAAC;EACpE,CAAC;EAED,IAAI;IACF,MAAMM,QAAQ,CAACC,MAAM,CAACjB,SAAS,CAAC;IAChCkB,KAAK,CAAC,qBAAqB,CAAC;IAC5BC,aAAa,CAAC,EAAE,CAAC;IACjBC,gBAAgB,CAAC,IAAI,CAAC;IACtBC,QAAQ,CAAC,gBAAgB,CAAC;EAC5B,CAAC,CAAC,OAAOC,GAAG,EAAE;IAAA,IAAAC,aAAA,EAAAC,kBAAA;IACZN,KAAK,CAAC,eAAe,IAAI,EAAAK,aAAA,GAAAD,GAAG,CAACG,QAAQ,cAAAF,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcG,IAAI,cAAAF,kBAAA,uBAAlBA,kBAAA,CAAoBG,OAAO,KAAIL,GAAG,CAACK,OAAO,CAAC,CAAC;EACvE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}